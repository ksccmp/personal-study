# OS

## 프로세스 (Process)
### 프로세스란 ?
 * 일반적으로 CPU에 의해 처리되는 사용자 프로그램, 즉 실행중인 프로그램을 의미하며 작업 또는 Task라고도 한다.

 * 여러 형태로의 정의
  1. 실행중인 프로그램
  2. 비동기적 행위
  3. 실행중인 프로시저
  4. PCB를 가진 프로그램
   - PCB(Process Control Block): 특정 프로세스를 제어할 때 필요한 상태 정보를 포함하는 운영체제 커널의 자료구조 / 프로세스가 생성되면 메모리에 PCB를 생성하고 프로세스가 실행을 종료하면 PCB도 삭제된다.
  5. 실기억장치에 저장된 프로그램

 * 프로세스 구조
 <img src="image/processStructure.png" width="600px" height="400px" title="프로세스 구조" alt="Process Structure">

 * 프로세스 상태변화
 <img src="image/processState.png" width="600px" height="400px" title="프로세스 상태" alt="Process State">

## 스레드 (Thread)
### 스레드란 ?
 * 프로세스 내에서 실행되는 흐름의 단위 / 일반적으로 하나의 프로그램은 하나의 스레드를 가지고 있지만 프로그램 환경에 따라 둘 이상의 스레드를 동시에 실행할 수 있음 (멀티스레딩이라고 부름)

### 스레드의 특징
 * 스택을 스레드마다 독립으로 할당: 독립적인 실행 흐름을 추가하기 위해
 * PC Register를 스레드마다 독립적으로 할당: PC(Program Counter)값은 스레드가 명령어의 주소를 기억하는 역할을 담당 / CPU를 할당받았다가 스케줄러에 의해 선점당하기 때문에 연속적으로 수행되지 못해 어느 부분까지 수행했는지 기억할 필요가 있음

### 멀티스레딩의 장점
 * 응답성: 다른 스레드가 작업을 수행하더라도 프로그램 수행이 계속되어 사용자에 대한 응답성 증가
 * 자원공유: 같은 주소공간 내에 여러 개의 다른 활동성 스레드를 가질 수 있음
 * 경제성: 프로세스를 생성하는 것보다 스레드를 생성하고 문맥교환을 하는 편이 보다 경제적
 * 멀티프로세서 활용: 단일 스레드는 CPU가 많아도 CPU 한개에서만 실행되지만 멀티스레딩은 멀티프로세서 구조에서 병렬로 수행 가능

### 멀티스레딩의 단점
 * 데이터와 힙영역을 공유하기 때문에 다른 스레드에서 사용중인 변수나 자료구조에 접근하여 엉뚱한 값을 읽거나 수정할 수 있음
 * 병목현상으로 인해 단일 스레드의 실행시간보다 오히려 지연될 수 있음

## 스케줄링 (Scheduling)
### 스케줄링이란 ?
 * 다중 프로그래밍을 가능하게 하는 운영체제의 동작 기법 중 하나이다.
 * 프로세스들에게 CPU 등의 자원 배정을 적절히 하여 시스템의 성능을 개선한다.

### 비선점 스케줄링
 * 이미 할당된 CPU를 다른 프로세스가 강제로 빼앗을 수 없는 스케줄링 기법
  1. FCFS: 프로세스가 도착한 순서대로 CPU를 할당하는 기법
  2. SJF: 실행시간이 가장 짧은 프로세스에게 먼저 CPU를 할당하는 기법
  3. HRN: 우선순위를 계산하여 가장 높은 것부터 CPU를 할당하는 기법
   - 우선순위 = (대기시간 + 실행시간) / 실행시간

### 선점 스케줄링
 * 하나의 프로세스가 CPU를 할당받아 실행하고 있을 때 다른 프로세스가 CPU를 강제로 빼앗아 사용할 수 있는 스케줄링 기법
  1. SRT: 새로 도착한 프로세스의 실행시간을 비교하여 가장 짧은 프로세스에게 CPU를 할당하는 기법
  2. Round-Robin: 시분할 시스템으로 고안된 방식 / 시간할당량만 실행한 후 다음 프로세스에게 CPU를 넘겨주고 준비상태의 맨 뒤로 배치
   ```
   time-slice: 4초
   시간      4   8   12   16   20   24   28   30   34   37   38
   P1(15)    4            8              12             15(end)
   P2(10)        4              8             10(end)
   P3(13)            4               8             12        13(end)
   ```
  3. 다단계 큐 스케줄링
  4. 다단계 피드백 큐 스케줄링